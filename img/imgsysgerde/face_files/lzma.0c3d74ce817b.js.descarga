"undefined"==typeof Worker||"undefined"!=typeof location&&"file:"===location.protocol?"undefined"!=typeof global&&"undefined"!=typeof require?this.LZMA=function(a){return require(a||"./lzma_worker.js").LZMA}:"undefined"!=typeof window&&window.document?function(){function a(a){var c;return d(a),c={compress:function(a,d,e,f){b.LZMA_WORKER?b.LZMA_WORKER.compress(a,d,e,f):setTimeout(function(){c.compress(a,d,e,f)},50)},decompress:function(a,d,e){b.LZMA_WORKER?b.LZMA_WORKER.decompress(a,d,e):setTimeout(function(){c.decompress(a,d,e)},50)}}}var b,c=this,d=function(b){var d=document.createElement("script");d.type="text/javascript",d.src=b,d.onload=function(){c.LZMA=a},document.getElementsByTagName("head")[0].appendChild(d)};"undefined"!=typeof window?b=window:global&&(b=global),c.LZMA=a}():console.log("Can't load the worker. Sorry."):this.LZMA=function(a){var b={},c=new Worker(a||"./lzma_worker.js");return c.onmessage=function(a){3===a.data.action?b[a.data.callback_num]&&"function"==typeof b[a.data.callback_num].on_progress&&b[a.data.callback_num].on_progress(a.data.result):b[a.data.callback_num]&&"function"==typeof b[a.data.callback_num].on_finish&&(b[a.data.callback_num].on_finish(a.data.result),delete b[a.data.callback_num])},c.onerror=function(a){throw new Error(a.message+" ("+a.filename+":"+a.lineno+")")},function(){function a(a,d,e,f,g){var h;do{h=Math.floor(1e7*Math.random())}while(void 0!==b[h]);b[h]={on_finish:f,on_progress:g},c.postMessage({action:a,callback_num:h,data:d,mode:e})}return{compress:function(b,c,d,e){a(1,String(b),c,d,e)},decompress:function(b,c,d){a(2,b,!1,c,d)}}}()};